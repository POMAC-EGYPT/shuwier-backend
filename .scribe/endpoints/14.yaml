name: 'Admin Commission Management'
description: ''
endpoints:
  -
    httpMethods:
      - GET
    uri: api/admin/commissions
    metadata:
      groupName: 'Admin Commission Management'
      groupDescription: ''
      subgroup: ''
      subgroupDescription: ''
      title: 'List commissions'
      description: |-
        Retrieve a paginated list of all commission rates in the system. This endpoint allows
        admins to view and search through commission rates with optional filtering by search terms.
        Results are ordered by creation date (newest first).
      authenticated: true
      deprecated: false
      custom: []
    headers:
      Content-Type: application/json
      Accept: application/json
      Accept-Language: en
    urlParameters: []
    cleanUrlParameters: []
    queryParameters:
      search:
        name: search
        description: 'optional Search term to filter commissions by rate or effective date.'
        required: false
        example: '15'
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        custom: []
      per_page:
        name: per_page
        description: 'optional Number of items per page (1-100).'
        required: false
        example: 15
        type: integer
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        custom: []
    cleanQueryParameters:
      search: '15'
      per_page: 15
    bodyParameters:
      search:
        name: search
        description: ''
        required: false
        example: consequatur
        type: string
        enumValues: []
        exampleWasSpecified: false
        nullable: true
        custom: []
      per_page:
        name: per_page
        description: 'Must be at least 1. Must not be greater than 100.'
        required: false
        example: 13
        type: integer
        enumValues: []
        exampleWasSpecified: false
        nullable: false
        custom: []
    cleanBodyParameters:
      search: consequatur
      per_page: 13
    fileParameters: []
    responses:
      -
        status: 200
        content: |-
          {
            "status": true,
            "error_num": null,
            "message": "Success",
            "data": {
              "current_page": 1,
              "data": [
                {
                  "id": 1,
                  "rate": 0.15,
                  "effective_from": "2025-10-01",
                  "created_by": 1,
                  "created_at": "2025-09-28T10:00:00.000000Z",
                  "updated_at": "2025-09-28T10:00:00.000000Z"
                },
                {
                  "id": 2,
                  "rate": 0.12,
                  "effective_from": "2025-11-01",
                  "created_by": 1,
                  "created_at": "2025-09-27T15:30:00.000000Z",
                  "updated_at": "2025-09-27T15:30:00.000000Z"
                }
              ],
              "first_page_url": "http://localhost/api/admin/commissions?page=1",
              "from": 1,
              "last_page": 1,
              "last_page_url": "http://localhost/api/admin/commissions?page=1",
              "links": [
                {
                  "url": null,
                  "label": "&laquo; Previous",
                  "active": false
                },
                {
                  "url": "http://localhost/api/admin/commissions?page=1",
                  "label": "1",
                  "active": true
                },
                {
                  "url": null,
                  "label": "Next &raquo;",
                  "active": false
                }
              ],
              "next_page_url": null,
              "path": "http://localhost/api/admin/commissions",
              "per_page": 10,
              "prev_page_url": null,
              "to": 2,
              "total": 2
            }
          }
        headers: []
        description: 'Commissions retrieved successfully'
        custom: []
      -
        status: 400
        content: |-
          {
            "status": false,
            "error_num": 400,
            "message": "The per page field must be at least 1."
          }
        headers: []
        description: 'Invalid parameters'
        custom: []
      -
        status: 401
        content: |-
          {
            "status": false,
            "error_num": 401,
            "message": "Unauthenticated"
          }
        headers: []
        description: Unauthenticated
        custom: []
    responseFields: []
    auth: []
    controller: null
    method: null
    route: null
    custom: []
  -
    httpMethods:
      - POST
    uri: api/admin/commissions
    metadata:
      groupName: 'Admin Commission Management'
      groupDescription: ''
      subgroup: ''
      subgroupDescription: ''
      title: 'Create commission'
      description: |-
        Create a new commission rate that will be effective from a specified future date.
        The commission rate is stored as a decimal (e.g., 15% is stored as 0.15) and must
        be between 1% and 100%. The effective date must be today or in the future.
      authenticated: true
      deprecated: false
      custom: []
    headers:
      Content-Type: application/json
      Accept: application/json
      Accept-Language: en
    urlParameters: []
    cleanUrlParameters: []
    queryParameters: []
    cleanQueryParameters: []
    bodyParameters:
      rate:
        name: rate
        description: 'Commission rate percentage (1-100). Will be converted to decimal for storage.'
        required: true
        example: 15.0
        type: number
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        custom: []
      effective_from:
        name: effective_from
        description: 'Date when this commission rate becomes effective (today or future).'
        required: true
        example: '2025-10-01'
        type: date
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        custom: []
    cleanBodyParameters:
      rate: 15.0
      effective_from: '2025-10-01'
    fileParameters: []
    responses:
      -
        status: 200
        content: |-
          {
            "status": true,
            "error_num": null,
            "message": "Commission created successfully",
            "data": {
              "id": 3,
              "rate": 0.15,
              "effective_from": "2025-10-01",
              "created_by": 1,
              "created_at": "2025-09-28T12:00:00.000000Z",
              "updated_at": "2025-09-28T12:00:00.000000Z"
            }
          }
        headers: []
        description: 'Commission created successfully'
        custom: []
      -
        status: 400
        content: |-
          {
            "status": false,
            "error_num": 400,
            "message": "The rate field must be between 1 and 100."
          }
        headers: []
        description: 'Invalid rate'
        custom: []
      -
        status: 400
        content: |-
          {
            "status": false,
            "error_num": 400,
            "message": "The effective from field must be a date after or equal to today."
          }
        headers: []
        description: 'Invalid effective date'
        custom: []
      -
        status: 400
        content: |-
          {
            "status": false,
            "error_num": 400,
            "message": "The rate field is required."
          }
        headers: []
        description: 'Validation error'
        custom: []
      -
        status: 401
        content: |-
          {
            "status": false,
            "error_num": 401,
            "message": "Unauthenticated"
          }
        headers: []
        description: Unauthenticated
        custom: []
    responseFields: []
    auth: []
    controller: null
    method: null
    route: null
    custom: []
  -
    httpMethods:
      - PUT
      - PATCH
    uri: 'api/admin/commissions/{id}'
    metadata:
      groupName: 'Admin Commission Management'
      groupDescription: ''
      subgroup: ''
      subgroupDescription: ''
      title: 'Update commission'
      description: |-
        Update an existing commission rate. Only commissions with future effective dates
        can be updated. The system prevents updating commissions that are already effective
        (today or past dates). At least one field must be different from current values.
      authenticated: true
      deprecated: false
      custom: []
    headers:
      Content-Type: application/json
      Accept: application/json
      Accept-Language: en
    urlParameters:
      id:
        name: id
        description: 'Commission ID to update.'
        required: true
        example: 1
        type: integer
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        custom: []
    cleanUrlParameters:
      id: 1
    queryParameters: []
    cleanQueryParameters: []
    bodyParameters:
      rate:
        name: rate
        description: 'optional New commission rate percentage (1-100). Will be converted to decimal for storage.'
        required: false
        example: 18.0
        type: number
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        custom: []
      effective_from:
        name: effective_from
        description: 'optional New effective date (today or future).'
        required: false
        example: '2025-11-01'
        type: date
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        custom: []
    cleanBodyParameters:
      rate: 18.0
      effective_from: '2025-11-01'
    fileParameters: []
    responses:
      -
        status: 200
        content: |-
          {
            "status": true,
            "error_num": null,
            "message": "Commission updated successfully",
            "data": {
              "id": 1,
              "rate": 0.18,
              "effective_from": "2025-11-01",
              "created_by": 1,
              "created_at": "2025-09-28T10:00:00.000000Z",
              "updated_at": "2025-09-28T14:30:00.000000Z"
            }
          }
        headers: []
        description: 'Commission updated successfully'
        custom: []
      -
        status: 400
        content: |-
          {
            "status": false,
            "error_num": 400,
            "message": "Cannot update commission effective from today or past"
          }
        headers: []
        description: 'Commission already effective'
        custom: []
      -
        status: 400
        content: |-
          {
            "status": false,
            "error_num": 400,
            "message": "Please provide different values to update"
          }
        headers: []
        description: 'No changes provided'
        custom: []
      -
        status: 400
        content: |-
          {
            "status": false,
            "error_num": 400,
            "message": "The rate field must be between 1 and 100."
          }
        headers: []
        description: 'Invalid rate'
        custom: []
      -
        status: 401
        content: |-
          {
            "status": false,
            "error_num": 401,
            "message": "Unauthenticated"
          }
        headers: []
        description: Unauthenticated
        custom: []
      -
        status: 404
        content: |-
          {
            "status": false,
            "error_num": 404,
            "message": "Commission not found"
          }
        headers: []
        description: 'Commission not found'
        custom: []
    responseFields: []
    auth: []
    controller: null
    method: null
    route: null
    custom: []
  -
    httpMethods:
      - DELETE
    uri: 'api/admin/commissions/{id}'
    metadata:
      groupName: 'Admin Commission Management'
      groupDescription: ''
      subgroup: ''
      subgroupDescription: ''
      title: 'Delete commission'
      description: |-
        Delete a commission rate from the system. Only commissions with future effective
        dates can be deleted. The system prevents deletion of commissions that are already
        effective (today or past dates) to maintain historical data integrity.
      authenticated: true
      deprecated: false
      custom: []
    headers:
      Content-Type: application/json
      Accept: application/json
      Accept-Language: en
    urlParameters:
      id:
        name: id
        description: 'Commission ID to delete.'
        required: true
        example: 1
        type: integer
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        custom: []
    cleanUrlParameters:
      id: 1
    queryParameters: []
    cleanQueryParameters: []
    bodyParameters: []
    cleanBodyParameters: []
    fileParameters: []
    responses:
      -
        status: 200
        content: |-
          {
            "status": true,
            "error_num": null,
            "message": "Commission deleted successfully"
          }
        headers: []
        description: 'Commission deleted successfully'
        custom: []
      -
        status: 400
        content: |-
          {
            "status": false,
            "error_num": 400,
            "message": "Cannot delete commission effective from today or past"
          }
        headers: []
        description: 'Commission already effective'
        custom: []
      -
        status: 401
        content: |-
          {
            "status": false,
            "error_num": 401,
            "message": "Unauthenticated"
          }
        headers: []
        description: Unauthenticated
        custom: []
      -
        status: 404
        content: |-
          {
            "status": false,
            "error_num": 404,
            "message": "Commission not found"
          }
        headers: []
        description: 'Commission not found'
        custom: []
    responseFields: []
    auth: []
    controller: null
    method: null
    route: null
    custom: []
